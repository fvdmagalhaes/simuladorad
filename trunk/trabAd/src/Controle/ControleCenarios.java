package Controle;

import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.util.ArrayList;
import java.util.List;

import javax.swing.JFrame;

import org.jfree.chart.ChartFactory;
import org.jfree.chart.ChartPanel;
import org.jfree.chart.JFreeChart;
import org.jfree.chart.plot.PlotOrientation;
import org.jfree.data.category.DefaultCategoryDataset;

import vo.EventoVo;
import Rede.Canal;
import Rede.Estacao;
import Rede.Evento;
import Rede.Hub;
import Rede.Pacote;
import Rede.Quadro;
import Rede.TipoEvento;
import Simulacao.Tam;
import Simulacao.Tap;
import Simulacao.ncm;
import View.Interface;

public class ControleCenarios {

	public Interface intfc = null;
	
	public void intfc(){
		intfc = new Interface();
		intfc.setVisible(true);
		intfc.addSimularListener(new SimularListener());
	}
	
	
	class SimularListener implements ActionListener{
		
		public void actionPerformed(ActionEvent arg0) {
			
			//Guarda a fase transiente
			Double faseTransiente = 0.0;
			
			//Instancia 4 vezes o Tap, cada um vai medir o tap de uma estação
			Tap tap1 = new Tap();
			
			tap1.setNumMaximoIteracoes(10);
            tap1.setNumMaximoRodadas(10);
            //Variavel que guarda se o numero total de rodadas já foi colhido
            tap1.setAcabou(false);
            
            Tap tap2 = new Tap ();

            tap2.setNumMaximoIteracoes(10);
            tap2.setNumMaximoRodadas(10);

            tap2.setAcabou(false);
            
            Tap tap3 = new Tap();
            tap3.setNumMaximoIteracoes(10);
            tap3.setNumMaximoRodadas(10);
            tap3.setAcabou(false);
            
            Tap tap4 = new Tap();
            tap4.setNumMaximoIteracoes(10);
            tap4.setNumMaximoRodadas(10);
            tap4.setAcabou(false);
            
//          Instancia 4 vezes o Tam, cada um vai medir o Tam de uma estação
            Tam tam1 = new Tam();
            tam1.setNumMaximoIteracoes(10);
            tam1.setNumMaximoRodadas(10);
            tam1.setAcabou(false);
            
            Tam tam2 = new Tam();
            tam2.setNumMaximoIteracoes(10);
            tam2.setNumMaximoRodadas(10);
            tam2.setAcabou(false);
            
            Tam tam3 = new Tam();
            tam3.setNumMaximoIteracoes(10);
            tam3.setNumMaximoRodadas(10);
            tam3.setAcabou(false);
            
            Tam tam4 = new Tam();
            tam4.setNumMaximoIteracoes(10);
            tam4.setNumMaximoRodadas(10);
            tam4.setAcabou(false);
            
//          Instancia 4 vezes o Ncm, cada um vai medir o Ncm de uma estação
            ncm ncm1 = new ncm();
            ncm1.setNumMaximoIteracoes(10);
            ncm1.setNumMaximoRodadas(10);
            ncm1.setAcabou(false);
            
            ncm ncm2 = new ncm();
            ncm2.setNumMaximoIteracoes(10);
            ncm2.setNumMaximoRodadas(10);
            ncm2.setAcabou(false);
            
            ncm ncm3 = new ncm();
            ncm3.setNumMaximoIteracoes(10);
            ncm3.setNumMaximoRodadas(10);
            ncm3.setAcabou(false);
            
            ncm ncm4 = new ncm();
            ncm4.setNumMaximoIteracoes(10);
            ncm4.setNumMaximoRodadas(10);
            ncm4.setAcabou(false);

			
			//instancia as estacoes do sistema
			Estacao e1 = new Estacao();
			Estacao e2 = new Estacao();
			Estacao e3 = new Estacao();
			Estacao e4 = new Estacao();
			
			//Todas as estações iniciam com 0 colisões
			e1.setNumColisoes(0);
			e2.setNumColisoes(0);
			e3.setNumColisoes(0);
			e4.setNumColisoes(0);
			
			//Associa as medidas com as estações
			e1.setTap(tap1);
			e2.setTap(tap2);
			e3.setTap(tap3);
			e4.setTap(tap4);
			
			e1.setTam(tam1);
			e2.setTam(tam2);
			e3.setTam(tam3);
			e4.setTam(tam4);
			
			e1.setNcm(ncm1);
			e2.setNcm(ncm2);
			e3.setNcm(ncm3);
			e4.setNcm(ncm4);
			
			//Cria os canais
			Canal tx1 = new Canal();
			Canal tx2 = new Canal();
			Canal tx3 = new Canal();
			Canal tx4 = new Canal();
			Canal rx1 = new Canal();
			Canal rx2 = new Canal();
			Canal rx3 = new Canal();
			Canal rx4 = new Canal();
			
			//Cria o hub
			Hub hub = new Hub();
				
			//adiciona as informacoes dos canais
			tx1.setOcioso(true);
			tx1.setTamanho(100.0);
			
			rx1.setOcioso(true);
			rx1.setTamanho(100.0);
		
			tx2.setOcioso(true);
			tx2.setTamanho(80.0);
			
			rx2.setOcioso(true);
			rx2.setTamanho(80.0);
			
			tx3.setOcioso(true);
			tx3.setTamanho(60.0);
			
			rx3.setOcioso(true);
			rx3.setTamanho(60.0);

			tx4.setOcioso(true);
			tx4.setTamanho(40.0);
			
			rx4.setOcioso(true);
			rx4.setTamanho(40.0);		

			//adiciona as informacoes das estacoes
			
			//os ids são gerados automaticamente
			e1.setId(1);
			//Cada estação é associada ao seu tx e rx
			e1.setRx(rx1);
			e1.setTx(tx1);
			
			//Os canais tx e rx sao associados a estação
			rx1.setEstacao(e1);
			tx1.setEstacao(e1);
			
			e2.setId(2);
			e2.setRx(rx2);
			e2.setTx(tx2);
			rx2.setEstacao(e2);
			tx2.setEstacao(e2);
			
			e3.setId(3);
			e3.setRx(rx3);
			e3.setTx(tx3);
			rx3.setEstacao(e3);
			tx3.setEstacao(e3);
			
			e4.setId(4);
			e4.setRx(rx4);
			e4.setTx(tx4);
			rx4.setEstacao(e4);
			tx4.setEstacao(e4);
			
			//Associa todas as estações com o hub
			e1.setHub(hub);
			e2.setHub(hub);
			e3.setHub(hub);
			e4.setHub(hub);
			
			//Adiciona as informacoes do hub
			List<Canal> listaCanais = new ArrayList<Canal>();
			
			//Adiciona na lista de canais do hub os canais rx das estações pois esses são os tx do hub(canal por onde ele vai enviar)
			listaCanais.add(rx1);
			listaCanais.add(rx2);
			listaCanais.add(rx3);
			listaCanais.add(rx4);
			hub.setListaCanais(listaCanais);
			
//			comeca como true pois a estacao ainda nao enviou nenhum quadro
			e1.setRecebeuConfirmacaoUltimoQuadro(true);
			e2.setRecebeuConfirmacaoUltimoQuadro(true);
			e3.setRecebeuConfirmacaoUltimoQuadro(true);
			e4.setRecebeuConfirmacaoUltimoQuadro(true);
			
			if(intfc.getRadioSelected() == 1){
				//O evento ultima transmissão é criado para posteriormente guardar o ultimo evento executado
				Evento ultimaTransmissao = new Evento();
				ultimaTransmissao.setTempo(0.0);
				/*
				 * Cenário 1: estação 1 e estação 2 transmitem mensagens de 40 quadros de 1000
				 * bytes, totalizando 4 Mbps por estação, sincronizadas (mensagens chegam nas duas
				 * estações ao mesmo tempo).
				 * Parâmetros: A1 = A2 = 80 ms, ambos determinísticos; p1 = p2 = 40; estações 3 e 4
				 * sem tráfego.	
				 */
				
				//evento da estacao 1
				Evento ev1 = new Evento();
				EventoVo eventovo = new EventoVo();
				//Cria um evento receber pacote para que a estação receba seu primeiro pacote
				ev1.setTempo(0.0);
				ev1.setTipo(TipoEvento.RECEBE_PACOTE);
				ev1.setEstacao(e1);
				//Seta os parametros da estação
				e1.setDistribuicaoChegadapacotes(false);
				e1.setTaxaDeChegada(80);
				e1.setPmf(40);
				//Cria o pacote que vai ser enviado
				Pacote pacote1 = new Pacote();
				pacote1.setEstacao(e1);
				//O tamanho do pacote é a pmf(numero de quadros) vezes o tamanho de um quadro
				pacote1.setTamanho(pacote1.getEstacao().getPmf()*Quadro.TAMANHO);
				//Associa o pacote com o evento
				ev1.setPacote(pacote1);
				
				//evento da estacao 2
				Evento ev2 = new Evento();
				ev2.setTempo(0.0);
				ev2.setTipo(TipoEvento.RECEBE_PACOTE);
				ev2.setEstacao(e2);
				e2.setDistribuicaoChegadapacotes(false);
				e2.setTaxaDeChegada(80);
				e2.setPmf(40);
				Pacote pacote2 = new Pacote();
				pacote2.setEstacao(e2);
				pacote2.setTamanho(pacote2.getEstacao().getPmf()*Quadro.TAMANHO);
				ev2.setPacote(pacote2);
				
				//Associa os eventos
				ev1.setProximoEvento(ev2);
				ev2.setEventoAnterior(ev1);
				
				//Enquanto todas as medidas não forem colhidas continua simulando
				while(!e1.getTap().getAcabou() && !e2.getTap().getAcabou() && !e1.getTam().getAcabou() && !e2.getTam().getAcabou() && !e1.getNcm().getAcabou() && !e2.getNcm().getAcabou()){
					eventovo = Controle.trataEventos(ev1,ultimaTransmissao, faseTransiente);
					//Caso o ultimo evento executado seja uma transmissao com sucesso guarda ele
					if(eventovo.getVerificaTransmissao())
					{
						ultimaTransmissao = eventovo.getUltimoEvento();
					}
					
					ev1=ev1.getProximoEvento();
					
				}
				//Busca o ultimo evento da estacao 1
				Evento ultimoEventoTemp1 = eventovo.getUltimoEvento();
				while(!ultimoEventoTemp1.getEstacao().equals(e1))
				{
					ultimoEventoTemp1 = ultimoEventoTemp1.getEventoAnterior();
				}
				
				//O tempo de simulacao da estacao eh o tempo do ultimo evento dela menos a fase transiente
				e1.setTempoSimulacao(ultimoEventoTemp1.getTempo()-faseTransiente);

				
				
//				Busca o ultimo evento da estacao 2
				Evento ultimoEventoTemp2 = eventovo.getUltimoEvento();
				while(!ultimoEventoTemp2.getEstacao().equals(e2))
				{
					ultimoEventoTemp2 = ultimoEventoTemp2.getEventoAnterior();
				}
				
				//O tempo de simulacao da estacao eh o tempo do ultimo evento dela menos a fase transiente
				e2.setTempoSimulacao(ultimoEventoTemp2.getTempo()-faseTransiente);
				
				
//				Calcula a utilizacao para a estacao 1. Ou seja, o tempo que a estação estava ocupada sobre o seu tempo total de simulação
				Double utilizacao = e1.getTempoOcupada()/e1.getTempoSimulacao();
				
				//Calcula a vazao das estacoes 1 e 2. Ou seja, o numero de quadros transmitidos com sucesso dividido pelo tempo de simulaçao
				Double vazao1 = e1.getNumeroQuadrosTransmitidosSucesso()/e1.getTempoSimulacao();
				Double vazao2 = e2.getNumeroQuadrosTransmitidosSucesso()/e2.getTempoSimulacao();
				
				//Imprime as estatísticas da estação 1
				Saida.saida="Medidas da estacao 1: ";
				Saida.escreve();
				Saida.saida="\n";
				Saida.escreve();
				e1.getTap().getMediaFinal();	
				e1.getTam().getMediaFinal();
				e1.getNcm().getMediaFinal();
				Saida.saida="Utilização: "+utilizacao;
				Saida.escreve();
				Saida.saida="\n";
				Saida.escreve();
				Saida.saida="Vazão: "+vazao1;
				Saida.escreve();
				Saida.saida="\n";
				Saida.escreve();
				
				
				//Imprime as estatísticas da estação 2
				Saida.saida="Medidas da estacao 2: ";
				Saida.escreve();
				Saida.saida="\n";
				Saida.escreve();
				e2.getTap().getMediaFinal();
				e2.getTam().getMediaFinal();
				e2.getNcm().getMediaFinal();
				Saida.saida="Vazão: "+vazao2;
				Saida.escreve();
				Saida.saida="\n";
				Saida.escreve();
				
				DefaultCategoryDataset dataset;
				ChartPanel panel;
				JFreeChart j;
				JFrame f;
				
				if(e1.getTap().getRodadas() != null){
					dataset= new DefaultCategoryDataset();
					
					for(int i=0;i<e1.getTap().getRodadas().size();i++){
						dataset.addValue(e1.getTap().getRodadas().get(i).getMedia(), "ESTAÇÃO 1","Rodada "+i);
					}
					
					j=ChartFactory.createLineChart("Gráfico", "Rodada", "TAP", dataset,PlotOrientation.VERTICAL, true, false,false);
					
					panel=new ChartPanel(j);
					f=new JFrame();
					f.setSize(700, 700);
					f.add(panel);
					f.setTitle("Tap");
					f.setVisible(true);
					f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
				}
				
				if(e2.getTap().getRodadas() != null){
					dataset = new DefaultCategoryDataset();
					
					for(int i=0;i<e2.getTap().getRodadas().size();i++){
						dataset.addValue(e2.getTap().getRodadas().get(i).getMedia(), "ESTAÇÃO 2","Rodada "+i);
					}
					
					j=ChartFactory.createLineChart("Gráfico", "Rodada", "TAP", dataset,PlotOrientation.VERTICAL, true, false,false);
					
					panel=new ChartPanel(j);
					f=new JFrame();
					f.setSize(700, 700);
					f.add(panel);
					f.setTitle("Tap");
					f.setVisible(true);
					f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
				}
				
				if(e1.getTam().getRodadas() != null){
					dataset = new DefaultCategoryDataset();
				
					for(int i=0;i<e1.getTam().getRodadas().size();i++){
						dataset.addValue(e1.getTam().getRodadas().get(i).getMedia(), "ESTAÇÃO 1","Rodada "+i);
					}
				
					j=ChartFactory.createLineChart("Gráfico", "Rodada", "TAM", dataset,PlotOrientation.VERTICAL, true, false,false);
				
					panel=new ChartPanel(j);
					f=new JFrame();
					f.setSize(700, 700);
					f.add(panel);
					f.setTitle("Tam");
					f.setVisible(true);
					f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
				}
				
				if(e2.getTam().getRodadas() != null){
					dataset = new DefaultCategoryDataset();
				
					for(int i=0;i<e2.getTam().getRodadas().size();i++){
						dataset.addValue(e2.getTam().getRodadas().get(i).getMedia(), "ESTAÇÃO 2","Rodada "+i);
					}
					
					j=ChartFactory.createLineChart("Gráfico", "Rodada", "TAM", dataset,PlotOrientation.VERTICAL, true, false,false);
					
					panel=new ChartPanel(j);
					f=new JFrame();
					f.setSize(700, 700);
					f.add(panel);
					f.setTitle("Tam");
					f.setVisible(true);
					f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
				}
				
				dataset = new DefaultCategoryDataset();
				
				if(e1.getNcm().getRodadas() != null){

					for(int i=0;i<e1.getNcm().getRodadas().size();i++){
						dataset.addValue(e1.getNcm().getRodadas().get(i).getMediaInt(), "ESTAÇÃO 1","Rodada "+i);
					}
					
					j=ChartFactory.createLineChart("Gráfico", "Rodada", "NCM", dataset,PlotOrientation.VERTICAL, true, false,false);
					
					panel=new ChartPanel(j);
					f=new JFrame();
					f.setSize(700, 700);
					f.add(panel);
					f.setTitle("ncm");
					f.setVisible(true);
					f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
				}
				dataset = new DefaultCategoryDataset();
				
				if(e2.getNcm().getRodadas() != null){

					for(int i=0;i<e2.getNcm().getRodadas().size();i++){
						dataset.addValue(e2.getNcm().getRodadas().get(i).getMediaInt(), "ESTAÇÃO 2","Rodada "+i);
					}
					
					j=ChartFactory.createLineChart("Gráfico", "Rodada", "NCM", dataset,PlotOrientation.VERTICAL, true, false,false);
					
					panel=new ChartPanel(j);
					f=new JFrame();
					f.setSize(700, 700);
					f.add(panel);
					f.setTitle("ncm");
					f.setVisible(true);
					f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
				}
				
			}else if(intfc.getRadioSelected() == 2){
				/*
				 * Cenário 2: estação 1 e estação 2 transmitem mensagens de 40 quadros de 1000
				 * bytes, totalizando 4 Mbps por estação, chegada de mensagens Poisson
				 * 
				 * Parâmetros: A1 = A2 = 80 ms exponencial; p1 = p2 = 40; estações 3 e 4
				 * sem tráfego.	
				 */
				
				//envento da estacao 1
				Evento ev1 = new Evento();
				EventoVo eventovo = new EventoVo();
				ev1.setTempo(0.0);
				ev1.setTipo(TipoEvento.RECEBE_PACOTE);
				ev1.setEstacao(e1);
				Evento ultimaTransmissao = new Evento();
				ultimaTransmissao.setTempo(0.0);
				e1.setDistribuicaoChegadapacotes(true);
				e1.setTaxaDeChegada(80);
				e1.setPmf(40);
				Pacote pacote1 = new Pacote();
				pacote1.setEstacao(e1);
				pacote1.setTamanho(pacote1.getEstacao().getPmf()*Quadro.TAMANHO);
				ev1.setPacote(pacote1);
				
				//evento da estacao 2
				Evento ev2 = new Evento();
				ev2.setTempo(0.0);
				ev2.setTipo(TipoEvento.RECEBE_PACOTE);
				ev2.setEstacao(e2);
				e2.setDistribuicaoChegadapacotes(true);
				e2.setTaxaDeChegada(80);
				e2.setPmf(40);
				Pacote pacote2 = new Pacote();
				pacote2.setEstacao(e2);
				pacote2.setTamanho(pacote2.getEstacao().getPmf()*Quadro.TAMANHO);
				ev2.setPacote(pacote2);
				
				ev1.setProximoEvento(ev2);
				ev2.setEventoAnterior(ev1);
				
				while(!e1.getTap().getAcabou() && !e2.getTap().getAcabou() && !e1.getTam().getAcabou() && !e2.getTam().getAcabou() && !e1.getNcm().getAcabou() && !e2.getNcm().getAcabou()){
					eventovo = Controle.trataEventos(ev1,ultimaTransmissao,faseTransiente);
					//Caso o ultimo evento executado seja uma transmissao com sucesso guarda ele
					if(eventovo.getVerificaTransmissao())
					{
						ultimaTransmissao = eventovo.getUltimoEvento();
					}

					ev1=ev1.getProximoEvento();
					
				}
//				Busca o ultimo evento da estacao 1
				Evento ultimoEventoTemp1 = eventovo.getUltimoEvento();
				while(!ultimoEventoTemp1.getEstacao().equals(e1))
				{
					ultimoEventoTemp1 = ultimoEventoTemp1.getEventoAnterior();
				}
				
				//O tempo de simulacao da estacao eh o tempo do ultimo evento dela
				e1.setTempoSimulacao(ultimoEventoTemp1.getTempo()-faseTransiente);

				
				
//				Busca o ultimo evento da estacao 2
				Evento ultimoEventoTemp2 = eventovo.getUltimoEvento();
				while(!ultimoEventoTemp2.getEstacao().equals(e2))
				{
					ultimoEventoTemp2 = ultimoEventoTemp2.getEventoAnterior();
				}
				
				//O tempo de simulacao da estacao eh o tempo do ultimo evento dela
				e2.setTempoSimulacao(ultimoEventoTemp2.getTempo()-faseTransiente);
				
				
//				Calcula a utilizacao para a estacao 1
				Double utilizacao = e1.getTempoOcupada()/e1.getTempoSimulacao();
				
				//Calcula a vazao das estacoes 1 e 2
				Double vazao1 = e1.getNumeroQuadrosTransmitidosSucesso()/e1.getTempoSimulacao();
				Double vazao2 = e2.getNumeroQuadrosTransmitidosSucesso()/e2.getTempoSimulacao();
				
				//Imprime as estatísticas da estação 1
				Saida.saida="Medidas da estacao 1: "+"/n";
				Saida.escreve();
				e1.getTap().getMediaFinal();	
				e1.getTam().getMediaFinal();
				e1.getNcm().getMediaFinal();
				Saida.saida="Utilização: "+utilizacao+"/n";
				Saida.escreve();
				Saida.saida="Vazão: "+vazao1+"/n";
				Saida.escreve();
				
				//Imprime as estatísticas da estação 2
				Saida.saida="Medidas da estacao 2: "+"/n";
				Saida.escreve();
				e2.getTap().getMediaFinal();
				e2.getTam().getMediaFinal();
				e2.getNcm().getMediaFinal();
				Saida.saida="Vazão: "+vazao2+"/n";
				Saida.escreve();
				
				
				DefaultCategoryDataset dataset;
				ChartPanel panel;
				JFreeChart j;
				JFrame f;
				
				if(e1.getTap().getRodadas() != null){
					dataset = new DefaultCategoryDataset();
					
					for(int i=0;i<e1.getTap().getRodadas().size();i++){
						dataset.addValue(e1.getTap().getRodadas().get(i).getMedia(), "ESTAÇÃO 1","Rodada "+i);
					}
					
					j=ChartFactory.createLineChart("Gráfico", "Rodada", "TAP", dataset,PlotOrientation.VERTICAL, true, false,false);
					
					panel=new ChartPanel(j);
					f=new JFrame();
					f.setSize(700, 700);
					f.add(panel);
					f.setTitle("Tap");
					f.setVisible(true);
					f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
				}
				
				if(e2.getTap().getRodadas() != null){
					dataset = new DefaultCategoryDataset();
					
					for(int i=0;i<e2.getTap().getRodadas().size();i++){
						dataset.addValue(e2.getTap().getRodadas().get(i).getMedia(), "ESTAÇÃO 2","Rodada "+i);
					}
					
					j=ChartFactory.createLineChart("Gráfico", "Rodada", "TAP", dataset,PlotOrientation.VERTICAL, true, false,false);
					
					panel=new ChartPanel(j);
					f=new JFrame();
					f.setSize(700, 700);
					f.add(panel);
					f.setTitle("Tap");
					f.setVisible(true);
					f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
				}
				
				if(e1.getTam().getRodadas() != null){
					dataset = new DefaultCategoryDataset();
					for(int i=0;i<e1.getTam().getRodadas().size();i++){
						dataset.addValue(e1.getTam().getRodadas().get(i).getMedia(), "ESTAÇÃO 1","Rodada "+i);
					}
					
					j=ChartFactory.createLineChart("Gráfico", "Rodada", "TAM", dataset,PlotOrientation.VERTICAL, true, false,false);
					
					panel=new ChartPanel(j);
					f=new JFrame();
					f.setSize(700, 700);
					f.add(panel);
					f.setTitle("Tam");
					f.setVisible(true);
					f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
				}
				
				if(e2.getTam().getRodadas() != null){
					dataset = new DefaultCategoryDataset();
					
					for(int i=0;i<e2.getTam().getRodadas().size();i++){
						dataset.addValue(e2.getTam().getRodadas().get(i).getMedia(), "ESTAÇÃO 2","Rodada "+i);
					}
					
					j=ChartFactory.createLineChart("Gráfico", "Rodada", "TAM", dataset,PlotOrientation.VERTICAL, true, false,false);
					
					panel=new ChartPanel(j);
					f=new JFrame();
					f.setSize(700, 700);
					f.add(panel);
					f.setTitle("Tam");
					f.setVisible(true);
					f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
				}
				
				if(e1.getNcm().getRodadas() != null){
					dataset = new DefaultCategoryDataset();
					
					for(int i=0;i<e1.getNcm().getRodadas().size();i++){
						dataset.addValue(e1.getNcm().getRodadas().get(i).getMediaInt(), "ESTAÇÃO 1","Rodada "+i);
					}
					
					j=ChartFactory.createLineChart("Gráfico", "Rodada", "NCM", dataset,PlotOrientation.VERTICAL, true, false,false);
					
					panel=new ChartPanel(j);
					f=new JFrame();
					f.setSize(700, 700);
					f.add(panel);
					f.setTitle("ncm");
					f.setVisible(true);
					f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
				}
				
				if(e2.getNcm().getRodadas() != null){
					dataset = new DefaultCategoryDataset();
					
					for(int i=0;i<e2.getNcm().getRodadas().size();i++){
						dataset.addValue(e2.getNcm().getRodadas().get(i).getMediaInt(), "ESTAÇÃO 2","Rodada "+i);
					}
					
					j=ChartFactory.createLineChart("Gráfico", "Rodada", "NCM", dataset,PlotOrientation.VERTICAL, true, false,false);
					
					panel=new ChartPanel(j);
					f=new JFrame();
					f.setSize(700, 700);
					f.add(panel);
					f.setTitle("ncm");
					f.setVisible(true);
					f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
				}
				
				
			}else if(intfc.getRadioSelected() == 3){
				
				/*
				 * Cenário 3: estação 1 injetando tráfego determinístico (msgs de 40 quadros) e 
				 * estações 2, 3 e 4 gerando tráfego de mensagens com um único quadro na taxa de 0,5 Mbps 
				 * por estação também determinístico - todas sincronizadas na geração.
				 * Parâmetros: A1 = 80ms, determinístico; p1 = 40; A2 = A3 = A4 = 16 ms, todos deterministicos
				 * p2 = p3 = p4 = 1
				 */
				
				//envento da estacao 1
				Evento ev1 = new Evento();
				EventoVo eventovo = new EventoVo();
				ev1.setTempo(0.0);
				ev1.setTipo(TipoEvento.RECEBE_PACOTE);
				ev1.setEstacao(e1);
				Evento ultimaTransmissao = new Evento();
				ultimaTransmissao.setTempo(0.0);
				e1.setDistribuicaoChegadapacotes(false);
				e1.setTaxaDeChegada(80);
				e1.setPmf(40);
				Pacote pacote1 = new Pacote();
				pacote1.setEstacao(e1);
				pacote1.setTamanho(pacote1.getEstacao().getPmf()*Quadro.TAMANHO);
				ev1.setPacote(pacote1);
				
				//evento da estacao 2
				Evento ev2 = new Evento();
				ev2.setTempo(0.0);
				ev2.setTipo(TipoEvento.RECEBE_PACOTE);
				ev2.setEstacao(e2);
				e2.setDistribuicaoChegadapacotes(false);
				e2.setTaxaDeChegada(16);
				e2.setPmf(1);
				Pacote pacote2 = new Pacote();
				pacote2.setEstacao(e2);
				pacote2.setTamanho(pacote2.getEstacao().getPmf()*Quadro.TAMANHO);
				ev2.setPacote(pacote2);
				
				ev1.setProximoEvento(ev2);
				ev2.setEventoAnterior(ev1);
				
				//evento da estacao 3
				Evento ev3 = new Evento();
				ev3.setTempo(0.0);
				ev3.setTipo(TipoEvento.RECEBE_PACOTE);
				ev3.setEstacao(e3);
				e3.setDistribuicaoChegadapacotes(false);
				e3.setTaxaDeChegada(16);
				e3.setPmf(1);
				Pacote pacote3 = new Pacote();
				pacote3.setEstacao(e3);
				pacote3.setTamanho(pacote3.getEstacao().getPmf()*Quadro.TAMANHO);
				ev3.setPacote(pacote3);
				
				ev2.setProximoEvento(ev3);
				ev3.setEventoAnterior(ev2);
				
				//evento da estacao 4
				Evento ev4 = new Evento();
				ev4.setTempo(0.0);
				ev4.setTipo(TipoEvento.RECEBE_PACOTE);
				ev4.setEstacao(e4);
				e4.setDistribuicaoChegadapacotes(false);
				e4.setTaxaDeChegada(16);
				e4.setPmf(1);
				Pacote pacote4 = new Pacote();
				pacote4.setEstacao(e4);
				pacote4.setTamanho(pacote4.getEstacao().getPmf()*Quadro.TAMANHO);
				ev4.setPacote(pacote4);
				
				ev3.setProximoEvento(ev4);
				ev4.setEventoAnterior(ev3);
				
				while(!e1.getTap().getAcabou()&& !e2.getTap().getAcabou() && !e3.getTap().getAcabou() && !e4.getTap().getAcabou()
						&& !e1.getTam().getAcabou()&& !e2.getTam().getAcabou() && !e3.getTam().getAcabou() && !e4.getTam().getAcabou()
						&& !e1.getNcm().getAcabou()&& !e2.getNcm().getAcabou() && !e3.getNcm().getAcabou() && !e4.getNcm().getAcabou()){
					eventovo = Controle.trataEventos(ev1,ultimaTransmissao,faseTransiente);
					//Caso o ultimo evento executado seja uma transmissao com sucesso guarda ele
					if(eventovo.getVerificaTransmissao())
					{
						ultimaTransmissao = eventovo.getUltimoEvento();
					}

					ev1=ev1.getProximoEvento();
					
				}
//				Busca o ultimo evento da estacao 1
				Evento ultimoEventoTemp1 = eventovo.getUltimoEvento();
				while(!ultimoEventoTemp1.getEstacao().equals(e1))
				{
					ultimoEventoTemp1 = ultimoEventoTemp1.getEventoAnterior();
				}
				
				//O tempo de simulacao da estacao é o tempo do ultimo evento dela
				e1.setTempoSimulacao(ultimoEventoTemp1.getTempo()-faseTransiente);

				
				
//				Busca o ultimo evento da estacao 2
				Evento ultimoEventoTemp2 = eventovo.getUltimoEvento();
				while(!ultimoEventoTemp2.getEstacao().equals(e2))
				{
					ultimoEventoTemp2 = ultimoEventoTemp2.getEventoAnterior();
				}
				
				//O tempo de simulacao da estacao é o tempo do ultimo evento dela
				e2.setTempoSimulacao(ultimoEventoTemp2.getTempo()-faseTransiente);
				
//				Busca o ultimo evento da estacao 3
				Evento ultimoEventoTemp3 = eventovo.getUltimoEvento();
				while(!ultimoEventoTemp3.getEstacao().equals(e3))
				{
					ultimoEventoTemp3 = ultimoEventoTemp3.getEventoAnterior();
				}
				
				//O tempo de simulacao da estacao eh o tempo do ultimo evento dela
				e3.setTempoSimulacao(ultimoEventoTemp3.getTempo()-faseTransiente);
				
				//				Busca o ultimo evento da estacao 4
				Evento ultimoEventoTemp4 = eventovo.getUltimoEvento();
				while(!ultimoEventoTemp4.getEstacao().equals(e4))
				{
					ultimoEventoTemp4 = ultimoEventoTemp4.getEventoAnterior();
				}
				
				//O tempo de simulacao da estacao eh o tempo do ultimo evento dela
				e4.setTempoSimulacao(ultimoEventoTemp4.getTempo()-faseTransiente);
				
				
//				Calcula a utilizacao para a estacao 1
				Double utilizacao = e1.getTempoOcupada()/e1.getTempoSimulacao();
				
				//Calcula a vazao das estacoes 1,2,3 e 4
				Double vazao1 = e1.getNumeroQuadrosTransmitidosSucesso()/e1.getTempoSimulacao();
				Double vazao2 = e2.getNumeroQuadrosTransmitidosSucesso()/e2.getTempoSimulacao();
				Double vazao3 = e3.getNumeroQuadrosTransmitidosSucesso()/e3.getTempoSimulacao();
				Double vazao4 = e4.getNumeroQuadrosTransmitidosSucesso()/e4.getTempoSimulacao();
				
				
				Saida.saida="Medidas da estacao 1: "+"\n";
				Saida.escreve();
				e1.getTap().getMediaFinal();
				e1.getTam().getMediaFinal();
				e1.getNcm().getMediaFinal();
				Saida.saida="Utilização:"+utilizacao+"\n";
				Saida.escreve();
				Saida.saida="Vazão:"+vazao1+"\n";
				Saida.escreve();
				
				
				Saida.saida="Medidas da estacao 2: "+"\n";
				Saida.escreve();
				e2.getTap().getMediaFinal();
				e2.getTam().getMediaFinal();
				e2.getNcm().getMediaFinal();
				Saida.saida="Vazão:"+vazao2+"\n";
				Saida.escreve();
				
				
				Saida.saida="Medidas da estacao 3: "+"\n";
				Saida.escreve();
				e3.getTap().getMediaFinal();
				e3.getTam().getMediaFinal();
				e3.getNcm().getMediaFinal();
				Saida.saida="Vazão:"+vazao3+"\n";
				Saida.escreve();
				
				Saida.saida="Medidas da estacao 4: "+"\n";
				Saida.escreve();
				e4.getTap().getMediaFinal();
				e4.getTam().getMediaFinal();
				e4.getNcm().getMediaFinal();
				Saida.saida="Vazão:"+vazao4+"\n";
				Saida.escreve();
				
				DefaultCategoryDataset dataset;
				ChartPanel panel;
				JFreeChart j;
				JFrame f;
				
				if(e1.getTap().getRodadas() != null){
					dataset = new DefaultCategoryDataset();
					
					for(int i=0;i<e1.getTap().getRodadas().size();i++){
						dataset.addValue(e1.getTap().getRodadas().get(i).getMedia(), "ESTAÇÂO 1","Rodada "+i);
					}
					
					j=ChartFactory.createLineChart("Gráfico", "Rodada", "TAP", dataset,PlotOrientation.VERTICAL, true, false,false);
					
					panel=new ChartPanel(j);
					f=new JFrame();
					f.setSize(700, 700);
					f.add(panel);
					f.setTitle("Tap");
					f.setVisible(true);
					f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
				}
				
				if(e2.getTap().getRodadas() != null){
					dataset = new DefaultCategoryDataset();
					
					for(int i=0;i<e2.getTap().getRodadas().size();i++){
						dataset.addValue(e2.getTap().getRodadas().get(i).getMedia(), "ESTAÇÂO 2", "Rodada "+i);
					}
					
					j=ChartFactory.createLineChart("Gráfico", "Rodada", "TAP", dataset,PlotOrientation.VERTICAL, true, false,false);
					
					panel=new ChartPanel(j);
					f=new JFrame();
					f.setSize(700, 700);
					f.add(panel);
					f.setTitle("Tap");
					f.setVisible(true);
					f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
				}
				
				if(e3.getTap().getRodadas() != null){
					dataset = new DefaultCategoryDataset();
					
					for(int i=0;i<e3.getTap().getRodadas().size();i++){
						dataset.addValue(e3.getTap().getRodadas().get(i).getMedia(), "ESTAÇÂO 3", "Rodada "+i);
					}
					
					j=ChartFactory.createLineChart("Gráfico", "Rodada", "TAP", dataset,PlotOrientation.VERTICAL, true, false,false);
					
					panel=new ChartPanel(j);
					f=new JFrame();
					f.setSize(700, 700);
					f.add(panel);
					f.setTitle("Tap");
					f.setVisible(true);
					f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
				}
				
				if(e4.getTap().getRodadas() != null){
					dataset = new DefaultCategoryDataset();
					
					for(int i=0;i<e4.getTap().getRodadas().size();i++){
						dataset.addValue(e4.getTap().getRodadas().get(i).getMedia(), "ESTAÇÂO 4", "Rodada "+i);
					}
					
					j=ChartFactory.createLineChart("Gráfico", "Rodada", "TAP", dataset,PlotOrientation.VERTICAL, true, false,false);
					
					panel=new ChartPanel(j);
					f=new JFrame();
					f.setSize(700, 700);
					f.add(panel);
					f.setTitle("Tap");
					f.setVisible(true);
					f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
				}
				
				
				if(e1.getTam().getRodadas() != null){
					dataset = new DefaultCategoryDataset();
					
					for(int i=0;i<e1.getTam().getRodadas().size();i++){
						dataset.addValue(e1.getTam().getRodadas().get(i).getMedia(), "ESTAÇÂO 1","Rodada "+i);
					}
					
					j=ChartFactory.createLineChart("Gráfico", "Rodada", "TAM", dataset,PlotOrientation.VERTICAL, true, false,false);
					
					panel=new ChartPanel(j);
					f=new JFrame();
					f.setSize(700, 700);
					f.add(panel);
					f.setTitle("Tam");
					f.setVisible(true);
					f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
				}
				
				if(e2.getTam().getRodadas() != null){
					dataset = new DefaultCategoryDataset();
					
					for(int i=0;i<e2.getTam().getRodadas().size();i++){
						dataset.addValue(e2.getTam().getRodadas().get(i).getMedia(), "ESTAÇÂO 2", "Rodada "+i);
					}
					
					j=ChartFactory.createLineChart("Gráfico", "Rodada", "TAM", dataset,PlotOrientation.VERTICAL, true, false,false);
					
					panel=new ChartPanel(j);
					f=new JFrame();
					f.setSize(700, 700);
					f.add(panel);
					f.setTitle("Tam");
					f.setVisible(true);
					f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
				}
				
				if(e3.getTam().getRodadas() != null){
					dataset = new DefaultCategoryDataset();
					
					for(int i=0;i<e3.getTam().getRodadas().size();i++){
						dataset.addValue(e3.getTam().getRodadas().get(i).getMedia(), "ESTAÇÂO 3", "Rodada "+i);
					}
					
					j=ChartFactory.createLineChart("Gráfico", "Rodada", "TAM", dataset,PlotOrientation.VERTICAL, true, false,false);
					
					panel=new ChartPanel(j);
					f=new JFrame();
					f.setSize(700, 700);
					f.add(panel);
					f.setTitle("Tam");
					f.setVisible(true);
					f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
				}
				
				if(e4.getTam().getRodadas() != null){
					dataset = new DefaultCategoryDataset();
					
					for(int i=0;i<e4.getTam().getRodadas().size();i++){
						dataset.addValue(e4.getTam().getRodadas().get(i).getMedia(), "ESTAÇÂO 4", "Rodada "+i);
					}
					
					j=ChartFactory.createLineChart("Gráfico", "Rodada", "TAM", dataset,PlotOrientation.VERTICAL, true, false,false);
					
					panel=new ChartPanel(j);
					f=new JFrame();
					f.setSize(700, 700);
					f.add(panel);
					f.setTitle("Tam");
					f.setVisible(true);
					f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
				}
				
				if(e1.getNcm().getRodadas() != null){
					dataset = new DefaultCategoryDataset();
					
					for(int i=0;i<e1.getNcm().getRodadas().size();i++){
						dataset.addValue(e1.getNcm().getRodadas().get(i).getMediaInt(), "ESTAÇÂO 1","Rodada "+i);
					}
					
					j=ChartFactory.createLineChart("Gráfico", "Rodada", "NCM", dataset,PlotOrientation.VERTICAL, true, false,false);
					
					panel=new ChartPanel(j);
					f=new JFrame();
					f.setSize(700, 700);
					f.add(panel);
					f.setTitle("Ncm");
					f.setVisible(true);
					f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
				}
				
				if(e2.getNcm().getRodadas() != null){
					dataset = new DefaultCategoryDataset();
					
					for(int i=0;i<e2.getNcm().getRodadas().size();i++){
						dataset.addValue(e2.getNcm().getRodadas().get(i).getMediaInt(), "ESTAÇÂO 2", "Rodada "+i);
					}
					
					j=ChartFactory.createLineChart("Gráfico", "Rodada", "NCM", dataset,PlotOrientation.VERTICAL, true, false,false);
					
					panel=new ChartPanel(j);
					f=new JFrame();
					f.setSize(700, 700);
					f.add(panel);
					f.setTitle("Ncm");
					f.setVisible(true);
					f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
				}
				
				if(e3.getNcm().getRodadas() != null){
					dataset = new DefaultCategoryDataset();
					
					for(int i=0;i<e3.getNcm().getRodadas().size();i++){
						dataset.addValue(e3.getNcm().getRodadas().get(i).getMediaInt(), "ESTAÇÂO 3", "Rodada "+i);
					}
					
					j=ChartFactory.createLineChart("Gráfico", "Rodada", "NCM", dataset,PlotOrientation.VERTICAL, true, false,false);
					
					panel=new ChartPanel(j);
					f=new JFrame();
					f.setSize(700, 700);
					f.add(panel);
					f.setTitle("Ncm");
					f.setVisible(true);
					f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
				}
				
				if(e4.getNcm().getRodadas() != null){
					dataset = new DefaultCategoryDataset();
					
					for(int i=0;i<e4.getNcm().getRodadas().size();i++){
						dataset.addValue(e4.getNcm().getRodadas().get(i).getMediaInt(), "ESTAÇÂO 4", "Rodada "+i);
					}
					
					j=ChartFactory.createLineChart("Gráfico", "Rodada", "NCM", dataset,PlotOrientation.VERTICAL, true, false,false);
					
					panel=new ChartPanel(j);
					f=new JFrame();
					f.setSize(700, 700);
					f.add(panel);
					f.setTitle("Ncm");
					f.setVisible(true);
					f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
				}
				
			}else if(intfc.getRadioSelected() == 4){

				/*
				 * Cenário 4: estação 1 injetando tráfego determinístico (msgs de 40 quadros) e 
				 * estações 2, 3 e 4 gerando tráfego de mensagens com um único quadro na taxa de 0,5 Mbps 
				 * por estação Poisson
				 * Parâmetros: A1 = 80ms, determinístico; p1 = 40; A2 = A3 = A4 = 16 ms, todos exponenciais
				 * p2 = p3 = p4 = 1
				 */
				
				//envento da estacao 1
				Evento ev1 = new Evento();
				EventoVo eventovo = new EventoVo();
				ev1.setTempo(0.0);
				ev1.setTipo(TipoEvento.RECEBE_PACOTE);
				ev1.setEstacao(e1);
				Evento ultimaTransmissao = new Evento();
				ultimaTransmissao.setTempo(0.0);
				e1.setDistribuicaoChegadapacotes(false);
				e1.setTaxaDeChegada(80);
				e1.setPmf(40);
				Pacote pacote1 = new Pacote();
				pacote1.setEstacao(e1);
				pacote1.setTamanho(pacote1.getEstacao().getPmf()*Quadro.TAMANHO);
				ev1.setPacote(pacote1);
				
				//evento da estacao 2
				Evento ev2 = new Evento();
				ev2.setTempo(0.0);
				ev2.setTipo(TipoEvento.RECEBE_PACOTE);
				ev2.setEstacao(e2);
				e2.setDistribuicaoChegadapacotes(true);
				e2.setTaxaDeChegada(16);
				e2.setPmf(1);
				Pacote pacote2 = new Pacote();
				pacote2.setEstacao(e2);
				pacote2.setTamanho(pacote2.getEstacao().getPmf()*Quadro.TAMANHO);
				ev2.setPacote(pacote2);
				
				ev1.setProximoEvento(ev2);
				ev2.setEventoAnterior(ev1);
				
				//evento da estacao 3
				Evento ev3 = new Evento();
				ev3.setTempo(0.0);
				ev3.setTipo(TipoEvento.RECEBE_PACOTE);
				ev3.setEstacao(e3);
				e3.setDistribuicaoChegadapacotes(true);
				e3.setTaxaDeChegada(16);
				e3.setPmf(1);
				Pacote pacote3 = new Pacote();
				pacote3.setEstacao(e3);
				pacote3.setTamanho(pacote3.getEstacao().getPmf()*Quadro.TAMANHO);
				ev3.setPacote(pacote3);
				
				ev2.setProximoEvento(ev3);
				ev3.setEventoAnterior(ev2);
				
				//evento da estacao 4
				Evento ev4 = new Evento();
				ev4.setTempo(0.0);
				ev4.setTipo(TipoEvento.RECEBE_PACOTE);
				ev4.setEstacao(e4);
				e4.setDistribuicaoChegadapacotes(true);
				e4.setTaxaDeChegada(16);
				e4.setPmf(1);
				Pacote pacote4 = new Pacote();
				pacote4.setEstacao(e4);
				pacote4.setTamanho(pacote4.getEstacao().getPmf()*Quadro.TAMANHO);
				ev4.setPacote(pacote4);
				
				ev3.setProximoEvento(ev4);
				ev4.setEventoAnterior(ev3);
				
				while(!e1.getTap().getAcabou()&& !e2.getTap().getAcabou() && !e3.getTap().getAcabou() && !e4.getTap().getAcabou()
						&& !e1.getTam().getAcabou()&& !e2.getTam().getAcabou() && !e3.getTam().getAcabou() && !e4.getTam().getAcabou()
						&& !e1.getNcm().getAcabou()&& !e2.getNcm().getAcabou() && !e3.getNcm().getAcabou() && !e4.getNcm().getAcabou()){
					eventovo = Controle.trataEventos(ev1,ultimaTransmissao,faseTransiente);
					//Caso o ultimo evento executado seja uma transmissao com sucesso guarda ele
					if(eventovo.getVerificaTransmissao())
					{
						ultimaTransmissao = eventovo.getUltimoEvento();
					}					
					ev1=ev1.getProximoEvento();
					
				}
//				Busca o ultimo evento da estacao 1
				Evento ultimoEventoTemp1 = eventovo.getUltimoEvento();
				while(!ultimoEventoTemp1.getEstacao().equals(e1))
				{
					ultimoEventoTemp1 = ultimoEventoTemp1.getEventoAnterior();
				}
				
				//O tempo de simulacao da estacao eh o tempo do ultimo evento dela
				e1.setTempoSimulacao(ultimoEventoTemp1.getTempo()-faseTransiente);

				
				
//				Busca o ultimo evento da estacao 2
				Evento ultimoEventoTemp2 = eventovo.getUltimoEvento();
				while(!ultimoEventoTemp2.getEstacao().equals(e2))
				{
					ultimoEventoTemp2 = ultimoEventoTemp2.getEventoAnterior();
				}
				
				//O tempo de simulacao da estacao eh o tempo do ultimo evento dela
				e2.setTempoSimulacao(ultimoEventoTemp2.getTempo()-faseTransiente);
				
//				Busca o ultimo evento da estacao 3
				Evento ultimoEventoTemp3 = eventovo.getUltimoEvento();
				while(!ultimoEventoTemp3.getEstacao().equals(e3))
				{
					ultimoEventoTemp3 = ultimoEventoTemp3.getEventoAnterior();
				}
				
				//O tempo de simulacao da estacao eh o tempo do ultimo evento dela
				e3.setTempoSimulacao(ultimoEventoTemp3.getTempo()-faseTransiente);
				
//				Busca o ultimo evento da estacao 4
				Evento ultimoEventoTemp4 = eventovo.getUltimoEvento();
				while(!ultimoEventoTemp4.getEstacao().equals(e4))
				{
					ultimoEventoTemp4 = ultimoEventoTemp4.getEventoAnterior();
				}
				
				//O tempo de simulacao da estacao eh o tempo do ultimo evento dela
				e4.setTempoSimulacao(ultimoEventoTemp4.getTempo()-faseTransiente);
				
				
//				Calcula a utilizacao para a estacao 1
				Double utilizacao = e1.getTempoOcupada()/e1.getTempoSimulacao();
				
				//Calcula a vazao das estacoes 1,2,3 e 4
				Double vazao1 = e1.getNumeroQuadrosTransmitidosSucesso()/e1.getTempoSimulacao();
				Double vazao2 = e2.getNumeroQuadrosTransmitidosSucesso()/e2.getTempoSimulacao();
				Double vazao3 = e3.getNumeroQuadrosTransmitidosSucesso()/e3.getTempoSimulacao();
				Double vazao4 = e4.getNumeroQuadrosTransmitidosSucesso()/e4.getTempoSimulacao();
				
				
				Saida.saida="Medidas da estacao 1: "+"\n";
				Saida.escreve();
				e1.getTap().getMediaFinal();
				e1.getTam().getMediaFinal();
				e1.getNcm().getMediaFinal();
				Saida.saida="Utilização:"+utilizacao+"\n";
				Saida.escreve();
				Saida.saida="Vazão:"+vazao1+"\n";
				Saida.escreve();
				
				
				Saida.saida="Medidas da estacao 2: "+"\n";
				Saida.escreve();
				e2.getTap().getMediaFinal();
				e2.getTam().getMediaFinal();
				e2.getNcm().getMediaFinal();
				Saida.saida="Vazão:"+vazao2+"\n";
				Saida.escreve();
				
				
				Saida.saida="Medidas da estacao 3: "+"\n";
				Saida.escreve();
				e3.getTap().getMediaFinal();
				e3.getTam().getMediaFinal();
				e3.getNcm().getMediaFinal();
				Saida.saida="Vazão:"+vazao3+"\n";
				Saida.escreve();
				
				Saida.saida="Medidas da estacao 4: "+"\n";
				Saida.escreve();
				e4.getTap().getMediaFinal();
				e4.getTam().getMediaFinal();
				e4.getNcm().getMediaFinal();
				Saida.saida="Vazão:"+vazao4+"\n";
				Saida.escreve();
			
				DefaultCategoryDataset dataset;
				ChartPanel panel;
				JFreeChart j;
				JFrame f;
				
				if(e1.getTap().getRodadas() != null){
					dataset = new DefaultCategoryDataset();
					
					for(int i=0;i<e1.getTap().getRodadas().size();i++){
						dataset.addValue(e1.getTap().getRodadas().get(i).getMedia(), "ESTAÇÂO 1","Rodada "+i);
					}
					
					j=ChartFactory.createLineChart("Gráfico", "Rodada", "TAP", dataset,PlotOrientation.VERTICAL, true, false,false);
					
					panel=new ChartPanel(j);
					f=new JFrame();
					f.setSize(700, 700);
					f.add(panel);
					f.setTitle("Tap");
					f.setVisible(true);
					f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
				}
				
				if(e2.getTap().getRodadas() != null){
					dataset = new DefaultCategoryDataset();
					
					for(int i=0;i<e2.getTap().getRodadas().size();i++){
						dataset.addValue(e2.getTap().getRodadas().get(i).getMedia(), "ESTAÇÂO 2", "Rodada "+i);
					}
					
					j=ChartFactory.createLineChart("Gráfico", "Rodada", "TAP", dataset,PlotOrientation.VERTICAL, true, false,false);
					
					panel=new ChartPanel(j);
					f=new JFrame();
					f.setSize(700, 700);
					f.add(panel);
					f.setTitle("Tap");
					f.setVisible(true);
					f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
				}
				
				if(e3.getTap().getRodadas() != null){
					dataset = new DefaultCategoryDataset();
					
					for(int i=0;i<e3.getTap().getRodadas().size();i++){
						dataset.addValue(e3.getTap().getRodadas().get(i).getMedia(), "ESTAÇÂO 3", "Rodada "+i);
					}
					
					j=ChartFactory.createLineChart("Gráfico", "Rodada", "TAP", dataset,PlotOrientation.VERTICAL, true, false,false);
					
					panel=new ChartPanel(j);
					f=new JFrame();
					f.setSize(700, 700);
					f.add(panel);
					f.setTitle("Tap");
					f.setVisible(true);
					f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
				}
				
				if(e4.getTap().getRodadas() != null){
					dataset = new DefaultCategoryDataset();
					
					for(int i=0;i<e4.getTap().getRodadas().size();i++){
						dataset.addValue(e4.getTap().getRodadas().get(i).getMedia(), "ESTAÇÂO 4", "Rodada "+i);
					}
					
					j=ChartFactory.createLineChart("Gráfico", "Rodada", "TAP", dataset,PlotOrientation.VERTICAL, true, false,false);
					
					panel=new ChartPanel(j);
					f=new JFrame();
					f.setSize(700, 700);
					f.add(panel);
					f.setTitle("Tap");
					f.setVisible(true);
					f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
				}
				
				if(e1.getTam().getRodadas() != null){
					dataset = new DefaultCategoryDataset();
					
					for(int i=0;i<e1.getTam().getRodadas().size();i++){
						dataset.addValue(e1.getTam().getRodadas().get(i).getMedia(), "ESTAÇÂO 1","Rodada "+i);
					}
					
					j=ChartFactory.createLineChart("Gráfico", "Rodada", "TAM", dataset,PlotOrientation.VERTICAL, true, false,false);
					
					panel=new ChartPanel(j);
					f=new JFrame();
					f.setSize(700, 700);
					f.add(panel);
					f.setTitle("Tam");
					f.setVisible(true);
					f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
				}
				
				if(e2.getTam().getRodadas() != null){
					dataset = new DefaultCategoryDataset();
					
					for(int i=0;i<e2.getTam().getRodadas().size();i++){
						dataset.addValue(e2.getTam().getRodadas().get(i).getMedia(), "ESTAÇÂO 2", "Rodada "+i);
					}
					
					j=ChartFactory.createLineChart("Gráfico", "Rodada", "TAM", dataset,PlotOrientation.VERTICAL, true, false,false);
					
					panel=new ChartPanel(j);
					f=new JFrame();
					f.setSize(700, 700);
					f.add(panel);
					f.setTitle("Tam");
					f.setVisible(true);
					f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
				}
				
				if(e3.getTam().getRodadas() != null){
					dataset = new DefaultCategoryDataset();
					
					for(int i=0;i<e3.getTam().getRodadas().size();i++){
						dataset.addValue(e3.getTam().getRodadas().get(i).getMedia(), "ESTAÇÂO 3", "Rodada "+i);
					}
					
					j=ChartFactory.createLineChart("Gráfico", "Rodada", "TAM", dataset,PlotOrientation.VERTICAL, true, false,false);
					
					panel=new ChartPanel(j);
					f=new JFrame();
					f.setSize(700, 700);
					f.add(panel);
					f.setTitle("Tam");
					f.setVisible(true);
					f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
				}
				
				if(e4.getTam().getRodadas() != null){
					dataset = new DefaultCategoryDataset();
					
					for(int i=0;i<e4.getTam().getRodadas().size();i++){
						dataset.addValue(e4.getTam().getRodadas().get(i).getMedia(), "ESTAÇÂO 4", "Rodada "+i);
					}
					
					j=ChartFactory.createLineChart("Gráfico", "Rodada", "TAM", dataset,PlotOrientation.VERTICAL, true, false,false);
					
					panel=new ChartPanel(j);
					f=new JFrame();
					f.setSize(700, 700);
					f.add(panel);
					f.setTitle("Tam");
					f.setVisible(true);
					f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
				}
				
				if(e1.getNcm().getRodadas() != null){
					dataset = new DefaultCategoryDataset();
					
					for(int i=0;i<e1.getNcm().getRodadas().size();i++){
						dataset.addValue(e1.getNcm().getRodadas().get(i).getMediaInt(), "ESTAÇÂO 1","Rodada "+i);
					}
					
					j=ChartFactory.createLineChart("Gráfico", "Rodada", "NCM", dataset,PlotOrientation.VERTICAL, true, false,false);
					
					panel=new ChartPanel(j);
					f=new JFrame();
					f.setSize(700, 700);
					f.add(panel);
					f.setTitle("Ncm");
					f.setVisible(true);
					f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
				}
				
				if(e2.getNcm().getRodadas() != null){
					dataset = new DefaultCategoryDataset();
					
					for(int i=0;i<e2.getNcm().getRodadas().size();i++){
						dataset.addValue(e2.getNcm().getRodadas().get(i).getMediaInt(), "ESTAÇÂO 2", "Rodada "+i);
					}
					
					j=ChartFactory.createLineChart("Gráfico", "Rodada", "NCM", dataset,PlotOrientation.VERTICAL, true, false,false);
					
					panel=new ChartPanel(j);
					f=new JFrame();
					f.setSize(700, 700);
					f.add(panel);
					f.setTitle("Ncm");
					f.setVisible(true);
					f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
				}
				
				if(e3.getNcm().getRodadas() != null){
					dataset = new DefaultCategoryDataset();
					
					for(int i=0;i<e3.getNcm().getRodadas().size();i++){
						dataset.addValue(e3.getNcm().getRodadas().get(i).getMediaInt(), "ESTAÇÂO 3", "Rodada "+i);
					}
					
					j=ChartFactory.createLineChart("Gráfico", "Rodada", "NCM", dataset,PlotOrientation.VERTICAL, true, false,false);
					
					panel=new ChartPanel(j);
					f=new JFrame();
					f.setSize(700, 700);
					f.add(panel);
					f.setTitle("Ncm");
					f.setVisible(true);
					f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
				}
				
				if(e4.getNcm().getRodadas() != null){
					dataset = new DefaultCategoryDataset();
					
					for(int i=0;i<e4.getNcm().getRodadas().size();i++){
						dataset.addValue(e4.getNcm().getRodadas().get(i).getMediaInt(), "ESTAÇÂO 4", "Rodada "+i);
					}
					
					j=ChartFactory.createLineChart("Gráfico", "Rodada", "NCM", dataset,PlotOrientation.VERTICAL, true, false,false);
					
					panel=new ChartPanel(j);
					f=new JFrame();
					f.setSize(700, 700);
					f.add(panel);
					f.setTitle("Ncm");
					f.setVisible(true);
					f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
				}

			}
			
		}
	}
}
